/* KMX theme MDC-Switch
 *
 * mdc-provided mixins:
 *      ~ PUBLIC ~
 *      mdc-switch-track-color($color)
 *      mdc-switch-knob-color($color)
 *      mdc-switch-focus-indicator-color($color)
 *
 *      ~ PRIVATE ~
 *      NOTE: Not intended to be overridden, but LEGOS is overriding to meet CarMax designs
 *      mdc-switch-unchecked-track-color_($color)
 *      mdc-switch-unchecked-knob-color_($color)
 *      mdc-switch-unchecked-focus-indicator-color_($color)
 */

@import '~@material/switch/mdc-switch';
@import '../../styles/foundation/typography/variables';
@import '../../styles/foundation/theme/kmx-theme';

.kmx-switch {
    @extend .mdc-switch;
}

.mdc-switch {

    // Unchecked Light
    @include mdc-switch-unchecked-track-color_($kmx-switch-unchecked-track-color);
    @include mdc-switch-unchecked-knob-color_($kmx-switch-unchecked-knob-color);
    @include mdc-switch-unchecked-focus-indicator-color_($kmx-switch-unchecked-focus-indicator-color);

    // Checked Light
    @include mdc-switch-track-color($kmx-switch-track-color);
    @include mdc-switch-knob-color($kmx-switch-knob-color);
    @include mdc-switch-focus-indicator-color($kmx-switch-focus-indicator-color);

    .mdc-theme--dark & {
        // Unchecked Dark
        @include mdc-switch-unchecked-track-color_($kmx-switch-unchecked-track-color-dark);
        @include mdc-switch-unchecked-knob-color_($kmx-switch-unchecked-knob-color-dark);
        @include mdc-switch-unchecked-focus-indicator-color_($kmx-switch-unchecked-focus-indicator-color-dark);

        // Checked Dark
        @include mdc-switch-track-color($kmx-switch-track-color-dark);
        @include mdc-switch-knob-color($kmx-switch-knob-color-dark);
        @include mdc-switch-focus-indicator-color($kmx-switch-focus-indicator-color-dark);
    } 

    &__background {
        .kmx-switch__knob {
            box-shadow: 0 0 2px 0 rgba(0, 0, 0, .12), 0 2px 2px 0 rgba(0, 0, 0, .24);
        }
    }
}

.mdc-switch__native-control:disabled ~ .mdc-switch__background {
    //Track
    &::before {
        background-color: $kmx-switch-unchecked-disabled-track-color;
        opacity: .12;

        .mdc-theme--dark & {
            background-color: $kmx-switch-unchecked-disabled-track-color-dark;
            opacity: .5;
        } 
    }

    .mdc-switch__knob {
        background-color: $kmx-switch-unchecked-disabled-knob-color;

        .mdc-theme--dark & {
            background-color: $kmx-switch-unchecked-disabled-knob-color-dark;
            border-color: transparent;
        }
    }
}
