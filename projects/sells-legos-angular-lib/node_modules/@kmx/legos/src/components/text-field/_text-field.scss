@import '~@material/textfield/mdc-text-field';
@import '../../styles/foundation/typography/variables';
@import '../../styles/foundation/theme/kmx-theme';

.kmx-text-field {
    &.mdc-text-field:not(.mdc-text-field--disabled) {
        @include mdc-text-field-bottom-line-color($grey-600);
        @include mdc-text-field-hover-bottom-line-color($grey-900);
        @include mdc-text-field-ink-color($grey-900);
        @include mdc-text-field-label-color($grey-900);
        @include mdc-text-field-line-ripple-color($kmx-royalblue-500);
        @include mdc-text-field-caret-color($kmx-royalblue-500);

        margin-bottom: size(s);

        .mdc-text-field {
            &__input {

                /*  MDC Override:
                    The MDC framework's top-padding value of 20px is causing issues. Setting to zero seems to fix: */
                padding-top: 0;

                /*  MDC Override:
                    This padding-bottom value is simply a LEGOS designer preference over the built-in MDC framwork value: */
                padding-bottom: 6px;

                /*  MDC Override:
                    Suppress the asterisk (generated-content) provided by the MDC framework: */
                &:required+.mdc-floating-label:after {
                    content: "";
                }
            }
        }
        &.mdc-text-field--focused {
            @include mdc-text-field-label-color($kmx-royalblue-500);
        }

        /*  MDC Override:
            These values are simply LEGOS designer preference over the built-in MDC framwork value: */
        +.mdc-text-field-helper-text {
            letter-spacing: 0;
            line-height: .825rem;
            color: $grey-600;
            color: var(--kmx-theme-text-hint-on-light, $grey-600);
        }
    }

    /* This selector is written this way because the `&--invalid` SCSS concatenation conflicts with the :not() modifier: */
    &.mdc-text-field--invalid.mdc-text-field:not(.mdc-text-field--disabled) {
        @include mdc-text-field-bottom-line-color($kmx-text-field-error-on-light);

        .mdc-floating-label {
            color: $kmx-text-field-error-on-light;
            color: var(--kmx-text-field-error-on-light, $kmx-text-field-error-on-light)
        }
    }
}

.kmx-text-field {
    &.mdc-text-field {
        &.mdc-text-field--disabled {
            @include mdc-text-field-bottom-line-color($grey-500);
            @include mdc-text-field-hover-bottom-line-color($grey-500);
            @include mdc-text-field-ink-color($grey-500);
            @include mdc-text-field-label-color($grey-500);

             .mdc-text-field__input {
                border-bottom-style: solid;
            }
        }
    }
}
