@import './../../styles/foundation/svg/_mixins';

.kmx-icon-button {
    @include mdc-button-base_;
    @include mdc-button-corner-radius(2px);
    @include kmx-button-base;
    @include kmx-icon-button-svg;
    @include kmx-svg-base;
    display: inline-block;

    &--primary {
        @include mdc-button-container-fill-color($kmx-button-primary-fill-on-light);
        @include mdc-button-ink-color($kmx-button-primary-ink-on-light);
        // NOTE:
        // KMX UI comps show a series of button states which cannot be realized by using the MCW framework state strategy (which relies on opacity on generated content elements.)
        // The following 4 steps represents a departure from the MCW framework's capabilities, in order to match the CarMax UI intent:

        // [1] Suppress the inclusion of the states from the MCW mdc-states mixin (it's only kept here for future reference):
        // @include mdc-states($kmx-button-secondary-ink-on-light);

        // [2] Hide these elements:
        &:before,
        &:after {
            visibility: hidden;
        }

        // [3] Manually assign hover and focus states with certain property values:
        &:hover,
        &:focus {
            background-color: $kmx-yellow-300;
            transition: background-color 20ms linear;
        }

        // [4] Manually assign the active -- or "pressed" -- state with certain property values:
        &:active {
            background-color: #ebcf39; // no color in kmx palette is close to this value - hard-coding here.
            transition: background-color 20ms linear;
        }

        // [5] Assign a default transition to the root element:
        transition: border-color 20ms linear;   // 'hover-off' transition
    }

    &--secondary {
        @include mdc-button-container-fill-color($kmx-button-secondary-fill-on-light);
        @include mdc-button-ink-color($kmx-button-secondary-ink-on-light);
        @include mdc-button--outlined_;
        @include mdc-button-outline-width(1px);
        @include mdc-button-outline-color($kmx-button-secondary-ink-on-light);
        transition: border-color 20ms linear;   // 'hover-off' transition
        transition: background-color 20ms linear;   // 'hover-off' transition

        &:before,
        &:after {
            visibility: hidden;
        }

        &:hover,
        &:focus {
           @include mdc-button-outline-color($kmx-blue-300);
           transition: border-color 20ms linear;
        }

        &:active {
            @include mdc-button-outline-color($kmx-button-secondary-ink-on-light);
            background-color: $grey-200;
            transition: border-color 20ms linear;
            transition: background-color 20ms linear;
        }

        &:disabled {
            border: none;
        }

        padding: 0;
    }

    &--tertiary {
        @include mdc-button-container-fill-color($kmx-button-tertiary-fill-on-light);
        @include mdc-button-ink-color($kmx-button-tertiary-ink-on-light);

        transition: color 20ms linear;   // 'hover-off' transition
        transition: background-color 20ms linear;   // 'hover-off' transition

        &:before,
        &:after {
            visibility: hidden;
        }

        &:hover,
        &:focus {
            color: $kmx-blue-300;
            transition: color 20ms linear;
        }

        &:active {
            background-color: $grey-200;
            color: $kmx-button-tertiary-ink-on-light;
            transition: background-color 20ms linear;
            transition: color 20ms linear;
        }
    }

    &--round {
        border-radius: 50%;
    }

    // This is a fix where we need to remove all padding from kmx-icon-buttons that are
    // also used as the menu icon (usually this is going to be the 'hamburger' menu).
    .mdc-toolbar & {
        &.mdc-toolbar__menu-icon {
            padding: 0;
        }
    }

}
