// Button Index

@import '~@material/button/mixins';
@import "./mixins";
@import "../../styles/foundation/theme/kmx-theme.scss";
@import './../../styles/foundation/svg/_mixins';

.kmx-button {
    @include mdc-button-base_;
    @include mdc-button-corner-radius(2px);
    @include kmx-button-base;
    @include kmx-button-svg;
    @include kmx-svg-base;
    align-items: center;
    padding: 0 16px;
    line-height: 2.25rem;
    &--primary {
        @include mdc-button-container-fill-color($kmx-button-primary-fill-on-light);
        @include mdc-button-ink-color($kmx-button-primary-ink-on-light);

        // NOTE:
        // KMX UI comps show a series of button states which cannot be realized by using the MCW framework state strategy (which relies on opacity on generated content elements.)
        // The following 4 steps represents a departure from the MCW framework's capabilities, in order to match the CarMax UI intent:

        // [1] Suppress the inclusion of the states from the MCW mdc-states mixin (it's only kept here for future reference):
        // @include mdc-states($kmx-button-secondary-ink-on-light);

        // [2] Hide these elements:
        &:before,
        &:after {
            visibility: hidden;
        }

        // [3] Manually assign hover and focus states with certain property values:
        &:hover,
        &:focus {
            background-color: $kmx-yellow-300;
            transition: background-color 20ms linear;
        }

        // [4] Manually assign the active -- or "pressed" -- state with certain property values:
        &:active {
            background-color: $kmx-button-primary-active-color;
            transition: background-color 20ms linear;
        }

        // [5] Assign a default transition to the root element:
        transition: background-color 20ms linear;   // 'hover-off' transition

    }

    &--secondary {
        @include mdc-button-container-fill-color($kmx-button-secondary-fill-on-light);
        @include mdc-button-ink-color($kmx-button-secondary-ink-on-light);
        @include mdc-button--outlined_;
        @include mdc-button-outline-width(1px);
        @include mdc-button-outline-color($kmx-button-secondary-ink-on-light);

        transition: border-color 20ms linear;   // 'hover-off' transition
        transition: background-color 20ms linear;   // 'hover-off' transition

        &:before,
        &:after {
            visibility: hidden;
        }

        &:hover,
        &:focus {
           @include mdc-button-outline-color($kmx-blue-300);
           transition: border-color 20ms linear;
        }

        &:active {
            @include mdc-button-outline-color($kmx-button-secondary-ink-on-light);
            background-color: $grey-200;
            transition: border-color 20ms linear;
            transition: background-color 20ms linear;
        }

        &:disabled {
            border: none;
        }
    }

    &--tertiary {
        @include mdc-button-container-fill-color($kmx-button-tertiary-fill-on-light);
        @include mdc-button-ink-color($kmx-button-tertiary-ink-on-light);

        transition: color 20ms linear;   // 'hover-off' transition
        transition: background-color 20ms linear;   // 'hover-off' transition

        &:before,
        &:after {
            visibility: hidden;
        }

        &:hover,
        &:focus {
            color: $kmx-blue-300;
            transition: color 20ms linear;
        }

        &:active {
            background-color: $grey-200;
            color: $kmx-button-tertiary-ink-on-light;
            transition: background-color 20ms linear;
            transition: color 20ms linear;
        }
    }

    &--tertiary-white {
        @include mdc-button-container-fill-color($kmx-button-tertiary-fill-on-light);
        @include mdc-button-ink-color($white);

        transition: color 20ms linear;   // 'hover-off' transition
        transition: background-color 20ms linear;   // 'hover-off' transition

        &:before,
        &:after {
            visibility: hidden;
        }

        &:hover,
        &:focus {
            color: $grey-400;
            transition: color 20ms linear;
        }

        &:active {
            background-color: transparentize($grey-200, .8);
            color: $white;
            transition: background-color 20ms linear;
            transition: color 20ms linear;
        }
    }
}

.kmx-button--raised,
.kmx-button--unelevated {
  //@include mdc-button--filled_;
  padding: 0 1rem;
}

.kmx-button--raised {
    @include mdc-button--raised_();
}

.kmx-button--large {
    @include kmx-button--large_();
}

.kmx-button--unelevated,
.kmx-button--raised,
.kmx-button {
    &:disabled {
        color: $grey-500;
        background-color: $grey-300;
    }
}
